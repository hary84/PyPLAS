.only-inq {
  display: none;
}

.blocked-bi:before {
  display: block;
}

/* when offcanvas show (larger than lg) */
@media (min-width: 993px) { 
  .sidebar {
    position: sticky;
    top: 0px;
    overflow-y: auto;
    max-height: calc(100vh);
  }
}

/* ========
  accordion 
=========== */
.accordion-button:focus {
  box-shadow: none;
  border-color: rgba(0,0,0,.125);
}
.accordion-button:not(.collapsed) {
  opacity: 100%;
  background-color: white;
}


/* ===================
  p-content, q-content
====================== */
/* 共通 */
:is(.p-content, .q-content) {
  border: dotted;
  background-color: rgb(247 247 247);
  padding: 1rem 0rem;
  .node-control {
      margin-left: 1rem;
      height: 1.5rem;
  }
} /* 共通 内部にNodeオブジェクトが存在する場合 */
:is(.p-content, .q-content):has(:is(.explain, .code, .question)) {
  .node-control .btn-group .btn {
      display: none;
  }
  .node-control:hover {
      .btn-group {
          .btn {
              display: inline;
              padding: 0.2rem 0.5rem;
              line-height: 1rem;
              border: none;
              border-radius: 0;
          }
      }
  }
  .bi-file-earmark-code, #loadIpynb, .ipynb-loader {
      display: none;
  }

} /* .p-content 内部にNodeオブジェクトが存在しない場合 */
.p-content:not(:has(:is(.explain, .code, .question))) {
  text-align: center;
  height: auto;
  .bi-file-earmark-code {
      display: block;
      font-size: 200px;
      margin-top: auto;
      opacity: 0.6;
  }
} /* .q-content 内部にNodeオブジェクトが存在しない場合 */
.q-content:not(:has(:is(.explain, .code, .question))) {
  .node-control .btn-group .btn {
      display: inline;
      padding: 0.2rem 0.5rem;
      line-height: 1rem;
      border: none;
      border-radius: 0;
  }
}

/* ===========
  editor
============== */
.editor {
  height: auto;
  padding-bottom: 1rem;
  box-sizing: content-box;
}

/* ===========
  Explain Node
============== */
.explain {
  p {
    margin-bottom: 0.5rem;
  }
  pre {margin-bottom: 0.5rem;}
  pre > code {
    display: block;
    padding: 0.5rem !important;
  }
}


/* ==========
  Code Node
============= */
.code {
  display: flex;
  .node-side {
      padding-top: 0.15rem;
      .btn {
        padding: 0rem;
        border: none;
        i {font-size: 1.1rem;}
        i:before {padding: 0.1rem;}
        .spinner-border {
          width: 0.9rem;
          height: 0.9rem;
        }
      }
      .btn:hover{
        i:before {
          color: white;
        }
      }
      .btn-interrupt {padding: 0rem 0.2rem;}
  }
  .node-prime {
      .code-config {
        height: 1.7rem;
        border-radius: 5px;
        z-index: 1;
        .btn {
          height: 1.5rem;
          padding: 0.2rem 0.3rem;
          margin: 0.1rem;
          i {font-size: 0.9rem;}
        }
      }
      .return-box {
          padding: 0.1rem 0 1rem 0;
          p {
              padding: 0 1rem;
              margin-bottom: 0rem;
              white-space: pre-wrap;
              font-size: 0.7rem;
          }
      }
  }
}
.code[run-state] > .node-side {
  .btn-exec {display: block;}
  .executing {display: none;}
  .waiting {display: none;}
}
.code[run-state="running"] > .node-side {
  .btn-exec {display: none;}
  .executing {display: block;}
  .waiting {display: none;}
}
.code[run-state="suspending"] > .node-side {
  .btn-exec {display: none;}
  .executing {display: none;}
  .waiting {display: block;}
}


/* ============
  question Node 
=============== */
.question {
/* card-header */
  .card-header {
    .btn {
      height: 1.5rem;
      padding: 0.2rem;
      i {
        font-size: 0.9rem;
        &::before {
          display: block;
        }
      }
    }
  }
/* card-body */
  .card-body {
    .mde  .toolbar  .only-inq { display: block; } 
  }
}
.question[progress="1"] {
  .toast {
    border: solid var(--bs-danger);
    background-color: #ffdddd;
    .toast-header {
      i { color: var(--bs-danger)}
      span::before {
        content: "ERROR";
        color: var(--bs-danger)
      }
    }
    .toast-body {
      white-space: pre-wrap;
      font-size: 0.6rem;
      overflow-y: auto;
      max-height: 10rem;
    }
  }
}
.question[progress="2"] {
  .toast {
    border: solid var(--bs-success);
    background-color: rgb(182 216 182);
    .toast-header {
      i { color: var(--bs-success)}
      span::before {
        content: "SUCCESS";
        color: var(--bs--success)
      }
    }
  }
}


/* 各question Nodeの進捗バッチ */
*[progress="0"] {
  .progress-badge {
    background-color: var(--bs-gray-300);
    color: var(--bs-dark);
    &::before {
      content: "Untried";
    }
  }
}
*[progress="1"] {
  .progress-badge {
    background-color: var(--bs-warning);
    color: var(--bs-dark);
    &::before {
      content: "Tried"
    }
  }
}
*[progress="2"] {
  .progress-badge {
    background-color: var(--bs-success);
    &::before {
      content: "Complete"
    }
  }
}


#question-nav {
  .nav-link.active {
    background-color: var(--bs-success-bg-subtle);
    color: var(--bs-dark);
  }
}