<div class="node question card my-2 ms-3 me-2 position-relative" q-id="{{ qid }}" ptype="{{ ptype }}">
	<div class="for-toast"></div>
	<div class="card-header bg-success-subtle d-flex">
		Question
		{% if ptype == 0 %}
			<span class="ms-2 fw-bold text-secondary">HTML</span>
		{% else %}
			<span class="ms-2 fw-bold text-secondary">Code Test</span>
		{% end %}
		<div class="ms-auto d-flex">
			{% if (user==1) and (ptype==1) %}
				<div class="form-check form-switch">
					<input class="form-check-input" type="checkbox" role="switch">
					<label class="form-check-label" >Editable</label>
				</div>
			{% end %}
			{% if user==1 %}
			<div class="vr mx-2 my-1"></div>
			<button type="button" class="btn btn-danger" onclick="delme($(this))"><i class="bi bi-trash"></i></button>
			{% end %}
		</div>
	</div>
	<div class="card-body py-2">

		<!-- HTML Problem -->
		{% if ptype == 0 %}
			{% module Explain(editor=user, content=question, allow_del=False, inQ=True) %}
		{% end %}

		<!-- Code Writing Problem -->
		{% if ptype == 1 %}
			<div class="q-text mb-2">
				<p class="mb-0"><span class="badge bg-success">Question</span></p>
				{% module Explain(editor=user, content=question, allow_del=False, inQ=True) %}
			</div>

			<div class="q-content">
				{% if (user) or (editable) %}
					{% module NodeControl(question=False) %}
					{% for d in conponent %}
						{% if d["type"] == "explain" %}
							{% module Explain(**d, editor=True, allow_del=True, inQ=True) %}
							{% module NodeControl(question=False) %}
						{% elif d["type"] == "code" %}
							{% module Node(**d, user=user, allow_del=True) %}
							{% module NodeControl(question=False) %}
						{% end %}
					{% end %}
				{% else %}
					{% for d in conponent %}
						{% if d["type"] == "explain" %}
							{% module Explain(**d) %}
						{% elif d["type"] == "code" %}
							{% module Code(**d) %}
						{% end %}
					{% end %}
				{% end %}
			</div>

			{% if user == 1 %}
				<div class="test-code mt-2">
					<p class="mb-0"><span class="badge bg-danger">Test Code</span></p>
					{% module Code(content=answer, allow_del=False, user=0) %}
				</div>
			{% end %}
		{% end %}
	</div>
	<div class="card-footer position-relative d-flex justify-content-end">
		<button type="button" class="btn btn-success btn-testing me-2">Answer</button>
		<button type="button" class="btn btn-danger btn-cancel">Cancel</button>
	</div>
</div>